on: [push, pull_request]
name: acceptance tests
jobs:
  linux:
    strategy:
      matrix:
        os: ["ubuntu:latest", "debian:latest", "fedora:latest", "centos:7"]
    runs-on: ubuntu-latest
    container:
      image: ${{ matrix.os }}
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: Run install script 
      run: |  
        bash ./install_puppet_7_agent.sh
    - name: Test puppet is installed
      run: |
        /opt/puppetlabs/bin/puppet --version